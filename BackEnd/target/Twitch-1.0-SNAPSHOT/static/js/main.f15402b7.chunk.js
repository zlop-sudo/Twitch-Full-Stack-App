(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{146:function(e,t,a){e.exports=a(229)},153:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(135),l=a.n(c),o=(a(153),a(38)),i=a(230),s=a(142),u=a(238),m="".concat("","/login"),f=function(e){return fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then(function(e){if(200!==e.status)throw Error("Fail to log in");return e.json()})},d="".concat("","/register"),h=function(e){return fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(200!==e.status)throw Error("Fail to register")})},E="".concat("","/logout"),g=function(){return fetch(E,{method:"POST",credentials:"include"}).then(function(e){if(200!==e.status)throw Error("Fail to log out")})},p="".concat("","/game"),b=function(){return fetch(p).then(function(e){if(200!==e.status)throw Error("Fail to get top games");return e.json()})},y="".concat("","/game?game_name="),v="".concat("","/search?game_id="),S=function(e){return fetch("".concat(v).concat(e)).then(function(e){if(200!==e.status)throw Error("Fail to find the game");return e.json()})},O=function(e){return function(e){return fetch("".concat(y).concat(e)).then(function(e){if(200!==e.status)throw Error("Fail to find the game");return e.json()})}(e).then(function(e){if(e&&e.id)return S(e.id);throw Error("Fail to find the game")})},w="".concat("","/favorite"),C=function(){return fetch(w,{credentials:"include"}).then(function(e){if(200!==e.status)throw Error("Fail to get favorite item");return e.json()})},I="".concat("","/recommendation"),j=function(){return fetch(I,{credentials:"include"}).then(function(e){if(200!==e.status)throw Error("Fail to get recommended item");return e.json()})},F=a(246),k=a(247),P=a(60),T=a(237),x=a(234),R=a(235),_=a(113);var L=function(e){var t=e.onSuccess,a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{shape:"round",onClick:function(){i(!0)},icon:r.a.createElement(_.a,null),style:{marginLeft:"20px",marginTop:"20px"}},"Custom Search "),r.a.createElement(T.a,{title:"Search",visible:l,onCancel:function(){i(!1)},footer:null},r.a.createElement(x.a,{name:"custom_search",onFinish:function(e){O(e.game_name).then(function(e){i(!1),t(e)}).catch(function(e){s.b.error(e.message)})}},r.a.createElement(x.a.Item,{name:"game_name",rules:[{required:!0,message:"Please enter a game name"}]},r.a.createElement(R.a,{placeholder:"Game name"})),r.a.createElement(x.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit"},"Search")))))},V=a(121),M=a(105),N=a(233),q=a(236),A=a(240),D=a(241),J=V.a.TabPane,U="stream",B="videos",G="clips",K=function(e,t,a,n){var c="".concat(e.broadcaster_name," - ").concat(e.title),l=a.find(function(t){return t.id===e.id});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis",width:450}},t&&r.a.createElement(M.a,{title:l?"Remove from favorite list":"Add to favorite list"},r.a.createElement(P.a,{shape:"circle",icon:l?r.a.createElement(A.a,null):r.a.createElement(D.a,null),onClick:function(){var t;l?(t=e,fetch(w,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({favorite:t})}).then(function(e){if(200!==e.status)throw Error("Fail to delete favorite item")})).then(function(){n()}).catch(function(e){s.b.error(e.message)}):function(e){return fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({favorite:e})}).then(function(e){if(200!==e.status)throw Error("Fail to add favorite item")})}(e).then(function(){n()}).catch(function(e){s.b.error(e.message)})}})),r.a.createElement(M.a,{title:c},r.a.createElement("span",null,"\xa0\xa0",c))))},H=function(e,t,a,n){return r.a.createElement(N.b,{grid:{xs:1,sm:1,md:1,lg:2,xl:3},dataSource:e,renderItem:function(e){return r.a.createElement(N.b.Item,{style:{marginRight:"20px"}},r.a.createElement(q.a,{title:K(e,t,a,n),cover:r.a.createElement("div",{className:"img-parent"},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{className:"img-child",alt:"Placeholder",src:(c=e.thumbnail_url,c.replace("%{height}","252").replace("%{width}","480").replace("{height}","252").replace("{width}","480"))})))}));var c}})},W=function(e){var t=e.resources,a=e.loggedIn,n=e.favoriteItems,c=e.favoriteOnChange,l=t.VIDEO,o=t.STREAM,i=t.CLIP,s=n.VIDEO,u=n.STREAM,m=n.CLIP;return r.a.createElement(V.a,{defaultActiveKey:U},r.a.createElement(J,{tab:"Streams",key:U,style:{height:"680px",overflow:"auto"},forceRender:!0},H(o,a,u,c)),r.a.createElement(J,{tab:"Videos",key:B,style:{height:"680px",overflow:"auto"},forceRender:!0},H(l,a,s,c)),r.a.createElement(J,{tab:"Clips",key:G,style:{height:"680px",overflow:"auto"},forceRender:!0},H(i,a,m,c)))},z=a(242),Q=a(243);var X=function(e){var t=e.onSuccess,a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{shape:"round",onClick:function(){i(!0)},style:{marginRight:"20px"}},"Login"),r.a.createElement(T.a,{title:"Log in",visible:l,onCancel:function(){i(!1)},footer:null,destroyOnClose:!0},r.a.createElement(x.a,{name:"normal_login",onFinish:function(e){f(e).then(function(e){i(!1),s.b.success("Welcome back, ".concat(e.name)),t()}).catch(function(e){s.b.error(e.message)})},preserve:!1},r.a.createElement(x.a.Item,{name:"user_id",rules:[{required:!0,message:"Please input your Username!"}]},r.a.createElement(R.a,{prefix:r.a.createElement(z.a,null),placeholder:"Username"})),r.a.createElement(x.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(R.a.Password,{prefix:r.a.createElement(Q.a,null),placeholder:"Password"})),r.a.createElement(x.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit"},"Login")))))};var Y=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{shape:"round",type:"primary",onClick:function(){c(!0)}},"Register"),r.a.createElement(T.a,{title:"Register",visible:a,onCancel:function(){c(!1)},footer:null,destroyOnClose:!0},r.a.createElement(x.a,{name:"normal_register",initialValues:{remember:!0},onFinish:function(e){h(e).then(function(){c(!1),s.b.success("Successfully signed up")}).catch(function(e){s.b.error(e.message)})},preserve:!1},r.a.createElement(x.a.Item,{name:"user_id",rules:[{required:!0,message:"Please input your Username!"}]},r.a.createElement(R.a,{prefix:r.a.createElement(z.a,null),placeholder:"Username"})),r.a.createElement(x.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(R.a,{prefix:r.a.createElement(Q.a,null),placeholder:"Password"})),r.a.createElement(x.a.Item,{name:"first_name",rules:[{required:!0,message:"Please input your Firstname!"}]},r.a.createElement(R.a,{placeholder:"firstname"})),r.a.createElement(x.a.Item,{name:"last_name",rules:[{required:!0,message:"Please input your Lastname!"}]},r.a.createElement(R.a,{placeholder:"lastname"})),r.a.createElement(x.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit"},"Register")))))},Z=a(239),$=a(144),ee=a(244),te=a(245);var ae=function(e){return e.items.map(function(e){return r.a.createElement(u.a.Item,{key:e.id},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},"".concat(e.broadcaster_name," - ").concat(e.title)))})},ne=u.a.SubMenu,re={Streams:"streams",Videos:"videos",Clips:"clips"};var ce=function(e){var t=e.data,a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1],s=t.VIDEO,m=t.STREAM,f=t.CLIP;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{type:"primary",shape:"round",onClick:function(){i(!0)},icon:r.a.createElement(A.a,null)},"My Favorites"),r.a.createElement(Z.a,{title:"My Favorites",placement:"right",width:720,visible:l,onClose:function(){i(!1)}},r.a.createElement(u.a,{mode:"inline",defaultOpenKeys:[re.Streams],style:{height:"100%",borderRight:0},selectable:!1},r.a.createElement(ne,{key:re.Streams,icon:r.a.createElement($.a,null),title:"Streams"},r.a.createElement(ae,{items:m})),r.a.createElement(ne,{key:re.Videos,icon:r.a.createElement(ee.a,null),title:"Videos"},r.a.createElement(ae,{items:s})),r.a.createElement(ne,{key:re.Clips,icon:r.a.createElement(te.a,null),title:"Clips"},r.a.createElement(ae,{items:f})))))},le=a(231),oe=a(232),ie=i.a.Header;var se=function(e){var t=e.loggedIn,a=e.signoutOnClick,n=e.signinOnSuccess,c=e.favoriteItems;return r.a.createElement(ie,null,r.a.createElement(le.a,{justify:"space-between"},r.a.createElement(oe.a,null,t&&r.a.createElement(ce,{data:c})),r.a.createElement(oe.a,null,r.a.createElement("h1",{className:"header-title"},"Twitch Browser")),r.a.createElement(oe.a,null,t?r.a.createElement(P.a,{shape:"round",onClick:a},"Logout"):r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{onSuccess:n}),r.a.createElement(Y,null)))))},ue=i.a.Content,me=i.a.Sider;var fe=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),m=Object(o.a)(l,2),f=m[0],d=m[1],h=Object(n.useState)({VIDEO:[],STREAM:[],CLIP:[]}),E=Object(o.a)(h,2),p=E[0],y=E[1],v=Object(n.useState)({VIDEO:[],STREAM:[],CLIP:[]}),O=Object(o.a)(v,2),w=O[0],I=O[1];return Object(n.useEffect)(function(){b().then(function(e){d(e)}).catch(function(e){s.b.error(e.message)}),j().then(function(e){y(e)})},[]),r.a.createElement(i.a,null,r.a.createElement(se,{loggedIn:a,signoutOnClick:function(){g().then(function(){c(!1),s.b.success("Successfull signed out")}).catch(function(e){s.b.error(e.message)})},signinOnSuccess:function(){C().then(function(e){I(e)}).catch(function(e){s.b.error(e.message)}),j().then(function(e){y(e)}),c(!0)},favoriteItems:w}),r.a.createElement(i.a,null,r.a.createElement(me,{width:300,className:"site-layout-background"},r.a.createElement(L,{onSuccess:function(e){y(e)}}),r.a.createElement(u.a,{mode:"inline",onSelect:function(e){var t=e.key;"recommendation"!==t?S(t).then(function(e){y(e)}):j().then(function(e){y(e)})},style:{marginTop:"10px"},items:function(e){return[{label:"Recommend for you!",key:"recommendation",icon:r.a.createElement(F.a,null)},{label:"Popular Games",key:"popular_games",icon:r.a.createElement(k.a,null),children:e.map(function(e){return{label:e.name,key:e.id,icon:r.a.createElement("img",{alt:"placeholder",src:e.box_art_url.replace("{height}","40").replace("{width}","40"),style:{borderRadius:"50%",marginRight:"20px"}})}})}]}(f)})),r.a.createElement(i.a,{style:{padding:"24px"}},r.a.createElement(ue,{className:"site-layout-background",style:{padding:24,margin:0,height:800,overflow:"auto"}},r.a.createElement(W,{resources:p,loggedIn:a,favoriteItems:w,favoriteOnChange:function(){C().then(function(e){I(e)}).catch(function(e){s.b.error(e.message)})}})))))},de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,248)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(fe,null))),de()}},[[146,1,2]]]);
//# sourceMappingURL=main.f15402b7.chunk.js.map